<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Ruby-3.3.4
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL-NS Stylesheets Vsnapshot" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-12.2">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch <span class="phrase">(System
        V</span> Edition) - Version 12.2
      </h4>
      <h3>
        Chapter&nbsp;13.&nbsp;Programming
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="python-dependencies.html" title=
          "Python Dependencies">Prev</a>
          <p>
            Python Dependencies
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="rust.html" title="Rustc-1.80.1">Next</a>
          <p>
            Rustc-1.80.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="prog.html" title=
          "Chapter&nbsp;13.&nbsp;Programming">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch    (System V Edition) - Version 12.2">Home</a>
        </li>
      </ul>
    </div>
    <h1 class="sect1">
      <a id="ruby" name="ruby"></a>Ruby-3.3.4
    </h1>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to Ruby
        </h2>
        <p>
          The <span class="application">Ruby</span> package contains the
          <span class="application">Ruby</span> development environment. This
          is useful for object-oriented scripting.
        </p>
        <p>
          This package is known to build and work properly using an LFS 12.2
          platform.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Download (HTTP): <a class="ulink" href=
                "https://cache.ruby-lang.org/pub/ruby/3.3/ruby-3.3.4.tar.xz">https://cache.ruby-lang.org/pub/ruby/3.3/ruby-3.3.4.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Download MD5 sum: e696a878d05867a4d28e62fe9afb7862
              </p>
            </li>
            <li class="listitem">
              <p>
                Download size: 16 MB
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimated disk space required: 1.4 GB (with C API docs and
                tests)
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimated build time: 2.4 SBU (using parallelism=4; with C
                API docs; add 0.4 SBU for tests)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Ruby Dependencies
        </h3>
        <h4>
          Required
        </h4>
        <p class="required">
          <a class="xref" href="libyaml.html" title=
          "libyaml-0.2.5">libyaml-0.2.5</a>
        </p>
        <h4>
          Optional
        </h4>
        <p class="optional">
          <a class="xref" href="doxygen.html" title=
          "Doxygen-1.12.0">Doxygen-1.12.0</a>, <a class="xref" href=
          "graphviz.html" title="Graphviz-12.1.0">Graphviz-12.1.0</a>,
          <a class="xref" href="rust.html" title=
          "Rustc-1.80.1">rustc-1.80.1</a>, <a class="xref" href="tk.html"
          title="Tk-8.6.14">Tk-8.6.14</a>, <a class="xref" href=
          "valgrind.html" title="Valgrind-3.23.0">Valgrind-3.23.0</a>,
          <a class="ulink" href=
          "https://anduin.linuxfromscratch.org/BLFS/bdb/db-5.3.28.tar.gz">Berkeley
          DB</a> (deprecated) and <a class="ulink" href=
          "https://dtrace.org/about/">DTrace</a>
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            An Internet connection is needed for some tests of this package.
          </p>
        </div>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of Ruby
        </h2>
        <p>
          Install <span class="application">Ruby</span> by running the
          following command:
        </p>
        <pre class="userinput"><kbd class=
        "command">./configure --prefix=/usr         \
            --disable-rpath       \
            --enable-shared       \
            --without-valgrind    \
            --without-baseruby    \
            ac_cv_func_qsort_r=no \
            --docdir=/usr/share/doc/ruby-3.3.4 &amp;&amp;
make</kbd></pre>
        <p>
          Optionally, build the CAPI documents by running the following
          commands:
        </p>
        <pre class="userinput"><kbd class="command">make capi</kbd></pre>
        <p>
          To test the results, issue: <span class="command"><strong>make -j1
          -k check</strong></span>. Note that running the test suite with
          parallel jobs may cause test failure output as cryptic <code class=
          "computeroutput">unknown object</code> messages, resulting a
          summary falsely claiming <span class="quote">“<span class=
          "quote">all tests passed.</span>”</span> If the environment has
          variables related to proxy settings (<code class=
          "envar">all_proxy</code>, <code class="envar">ALL_PROXY</code>,
          <code class="envar">http_proxy</code>, and etc.) set, the test
          suite will bail out early with messages like <code class=
          "computeroutput">net/ftp is not found</code>. Make sure that you
          unset these variables for the test suite. There are over 26,000
          tests. Some tests related to ipv6 may indicate errors. If the tests
          are run in a directory that has a world writable component (e.g.
          /tmp) then several additional tests may fail.
        </p>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root"><kbd class="command">make install</kbd></pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            If you have Ruby-On-Rails applications installed and did an
            upgrade of <span class="application">Ruby</span> by installing
            this package, you might need to run an update there, too (as the
            <code class="systemitem">root</code> user):
          </p>
          <pre class="userinput"><kbd class="command">cd /path/to/web/app
bundle update rake</kbd></pre>
          <p>
            and restart the webserver which serves the application.
          </p>
        </div>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <em class="parameter"><code>--disable-rpath</code></em>: This
          switch disables embedding <code class="filename">/usr/lib</code> as
          a library search path into the <span class=
          "command"><strong>ruby</strong></span> program. Doing so is not
          needed (because <code class="filename">/usr/lib</code> is a system
          library path) and it may cause the test suite running with the
          system <code class="filename">libruby.so</code> instead of the just
          built one when Ruby has been installed.
        </p>
        <p>
          <em class="parameter"><code>--enable-shared</code></em>: This
          switch enables building the <code class="filename">libruby</code>
          shared library.
        </p>
        <p>
          <em class="parameter"><code>--without-baseruby</code></em>: This
          switch prevents using the system <span class=
          "command"><strong>ruby</strong></span> if it is already installed.
          The build system will use the newly built version instead.
        </p>
        <p>
          <em class="parameter"><code>ac_cv_func_qsort_r=no</code></em>: This
          switch prevents using the <code class="function">qsort_r</code>
          function from Glibc. Ruby makes some aggressive optimization
          assuming some implementation details of the sorting algorithm, but
          the assumption is not true with the Glibc implementation. With this
          switch Ruby will use its own sort implementation instead.
        </p>
        <p>
          <code class="option">--disable-install-doc</code>: This switch
          disables building and installing rdoc indexes and C API documents.
        </p>
        <p>
          <code class="option">--disable-install-rdoc</code>: This switch
          disables building and installing rdoc indexes.
        </p>
        <p>
          <code class="option">--disable-install-capi</code>: This switch
          disables building and installing C API documents.
        </p>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">bundle, bundler, erb, gem, irb, racc,
              rake, rbs, rdbg, rdoc, ri, ruby, and typeprof</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">libruby.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/usr/include/ruby-3.3.0, /usr/lib/ruby,
              /usr/share/doc/ruby-3.3.4 and /usr/share/ri</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="bundle" name="bundle"></a><span class=
                    "term"><span class=
                    "command"><strong>bundle</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    creates bundles of Ruby Gems
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="bundler" name="bundler"></a><span class=
                    "term"><span class=
                    "command"><strong>bundler</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    manages an application's dependencies throughout it's
                    lifecycle
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="erb" name="erb"></a><span class=
                    "term"><span class="command"><strong>erb</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a command line front-end for eRuby, which provides a
                    templating system for <span class=
                    "application">Ruby</span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="gem" name="gem"></a><span class=
                    "term"><span class="command"><strong>gem</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the command for RubyGems, which is a sophisticated
                    package manager for <span class=
                    "application">Ruby</span>. This is similar to Python's
                    'pip' command
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="irb" name="irb"></a><span class=
                    "term"><span class="command"><strong>irb</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the interactive interface for <span class=
                    "application">Ruby</span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="rake" name="rake"></a><span class=
                    "term"><span class=
                    "command"><strong>rake</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a make-like build utility for <span class=
                    "application">Ruby</span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="rdbg" name="rdbg"></a><span class=
                    "term"><span class=
                    "command"><strong>rdbg</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is an interactive debugger for <span class=
                    "application">Ruby</span>
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="rdoc" name="rdoc"></a><span class=
                    "term"><span class=
                    "command"><strong>rdoc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    generates <span class="application">Ruby</span>
                    documentation
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ri" name="ri"></a><span class="term"><span class=
                    "command"><strong>ri</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    displays documentation from a database on <span class=
                    "application">Ruby</span> classes, modules, and methods
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ruby-prog" name="ruby-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>ruby</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is an interpreted scripting language for quick and easy
                    object-oriented programming
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libruby" name="libruby"></a><span class=
                    "term"><code class="filename">libruby.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    contains the API functions required by <span class=
                    "application">Ruby</span>
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="python-dependencies.html" title=
          "Python Dependencies">Prev</a>
          <p>
            Python Dependencies
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="rust.html" title="Rustc-1.80.1">Next</a>
          <p>
            Rustc-1.80.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="prog.html" title=
          "Chapter&nbsp;13.&nbsp;Programming">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch    (System V Edition) - Version 12.2">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
