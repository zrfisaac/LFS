<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      keyutils-1.6.3
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL-NS Stylesheets Vsnapshot" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-12.2">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch <span class="phrase">(System
        V</span> Edition) - Version 12.2
      </h4>
      <h3>
        Chapter&nbsp;9.&nbsp;General Libraries
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="json-glib.html" title=
          "JSON-GLib-1.8.0">Prev</a>
          <p>
            JSON-GLib-1.8.0
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="libaio.html" title="libaio-0.3.113">Next</a>
          <p>
            libaio-0.3.113
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="genlib.html" title=
          "Chapter&nbsp;9.&nbsp;General Libraries">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch    (System V Edition) - Version 12.2">Home</a>
        </li>
      </ul>
    </div>
    <h1 class="sect1">
      <a id="keyutils" name="keyutils"></a>keyutils-1.6.3
    </h1>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to keyutils
        </h2>
        <p>
          <span class="application">Keyutils</span> is a set of utilities for
          managing the key retention facility in the kernel, which can be
          used by filesystems, block devices and more to gain and retain the
          authorization and encryption keys required to perform secure
          operations.
        </p>
        <p>
          This package is known to build and work properly using an LFS 12.2
          platform.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Download (HTTP): <a class="ulink" href=
                "https://git.kernel.org/pub/scm/linux/kernel/git/dhowells/keyutils.git/snapshot/keyutils-1.6.3.tar.gz">
                https://git.kernel.org/pub/scm/linux/kernel/git/dhowells/keyutils.git/snapshot/keyutils-1.6.3.tar.gz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Download MD5 sum: 6b70b2b381c1b6d9adfaf66d5d3e7c00
              </p>
            </li>
            <li class="listitem">
              <p>
                Download size: 136 KB
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimated disk space required: 2.6 MB (with tests)
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimated build time: less than 0.1 SBU (add 0.4 SBU for
                tests)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Keyutils Dependencies
        </h3>
        <h4>
          Optional
        </h4>
        <p class="optional">
          <a class="xref" href="lsb-tools.html" title=
          "LSB-Tools-0.12">lsb-tools-0.12</a> (referred by the test suite)
        </p>
      </div>
      <div class="kernel" lang="en" xml:lang="en">
        <h2 class="sect2">
          <a id="keyutils-test-kernel" name="keyutils-test-kernel"></a>Kernel
          Configuration
        </h2>
        <p>
          If running the test suite, some tests needs the following kernel
          features enabled:
        </p>
        <pre class="screen"><span class=
        "blue">S</span>ecurity options ---&gt;
  [*] <span class=
"blue">E</span>nable access key retention support                                 [KEYS]
  [*]   <span class=
"blue">L</span>arge payload keys                                            [BIG_KEYS]
  [*]   <span class=
"blue">D</span>iffie-Hellman operations on retained keys           [KEY_DH_OPERATIONS]

-*- <span class=
"blue">C</span>ryptographic API ---&gt;                                              [CRYPTO]
  <span class="blue">P</span>ublic-key cryptography ---&gt;
    &lt;*/M&gt; <span class=
"blue">R</span>SA (Rivest-Shamir-Adleman)                               [CRYPTO_RSA]
  H<span class="blue">a</span>shes, digests, and MACs ---&gt;
    &lt;*/M&gt; <span class=
"blue">S</span>HA-1                                                    [CRYPTO_SHA1]
  [*] <span class=
"blue">A</span>symmetric (public-key cryptographic) key type ---&gt;  [ASYMMETRIC_KEY_TYPE]
    &lt;*&gt; <span class=
"blue">A</span>symmetric public-key crypto algorithm subtype
                                            ...  [ASYMMETRIC_PUBLIC_KEY_SUBTYPE]
    # If not built into the kernel, [SYSTEM_TRUSTED_KEYRING] won't show up;
    # building as a module won't work:
    &lt;*&gt;   <span class=
"blue">X</span>.509 certificate parser                     [X509_CERTIFICATE_PARSER]
  <span class="blue">C</span>ertificates for signature checking ---&gt;
    [*] <span class=
"blue">P</span>rovide system-wide ring of trusted keys        [SYSTEM_TRUSTED_KEYRING]
    [*]   <span class=
"blue">P</span>rovide a keyring to which extra trustable keys may be added
                                                ...  [SECONDARY_TRUSTED_KEYRING]
    [*] <span class=
"blue">P</span>rovide system-wide ring of blacklisted keys  [SYSTEM_BLACKLIST_KEYRING]

<span class="blue">L</span>ibrary routines ---&gt;
  <span class="blue">C</span>rypto library routines ---&gt;
    # If not built into the kernel, [BIG_KEYS] won't show up;
    # building as a module won't work:
    &lt;*&gt; <span class=
"blue">C</span>haCha20-Poly1305 AEAD support (8-byte nonce library version)
                                              ...  [CRYPTO_LIB_CHACHA20POLY1305]</pre>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of keyutils
        </h2>
        <p>
          Install <span class="application">keyutils</span> by running the
          following commands:
        </p>
        <pre class="userinput"><kbd class="command">make</kbd></pre>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root"><kbd class=
        "command">make NO_ARLIB=1 LIBDIR=/usr/lib BINDIR=/usr/bin SBINDIR=/usr/sbin install</kbd></pre>
        <p>
          The test suite can only run after installing this package. To test
          the results, issue, as the <code class="systemitem">root</code>
          user:
        </p>
        <pre class="root"><kbd class="command">make -k test</kbd></pre>
        <p>
          If <a class="xref" href="lsb-tools.html" title=
          "LSB-Tools-0.12">lsb-tools-0.12</a> is not installed, the test
          suite will output some lines complaining the <span class=
          "command"><strong>lsb_release</strong></span> command not available
          but it won't affect the test result.
        </p>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <em class="parameter"><code>NO_ARLIB=1</code></em>: This make flag
          disables installing the static library.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <h2 class="sect2">
          Configuring keyutils
        </h2>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            <a id="keyutils-config" name="keyutils-config"></a>Config Files
          </h3>
          <p>
            <code class="filename">/etc/request-key.conf</code> and
            <code class="filename">/etc/request-key.d/*</code>
          </p>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">keyctl, key.dns_resolver, and
              request-key</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Library:</strong>
              <span class="segbody">libkeyutils.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directory:</strong>
              <span class="segbody">/etc/keyutils, /etc/request-key.d, and
              /usr/share/keyutils</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="keyctl" name="keyctl"></a><span class=
                    "term"><span class=
                    "command"><strong>keyctl</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    controls the key management facility with a variety of
                    subcommands
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="key.dns_resolver" name=
                    "key.dns_resolver"></a><span class="term"><span class=
                    "command"><strong>key.dns_resolver</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is invoked by <span class=
                    "command"><strong>request-key</strong></span> on behalf
                    of the kernel when kernel services (such as NFS, CIFS and
                    AFS) need to perform a hostname lookup and the kernel
                    does not have the key cached. It is not ordinarily
                    intended to be called directly
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="request-key" name="request-key"></a><span class=
                    "term"><span class=
                    "command"><strong>request-key</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is invoked by the kernel when the kernel is asked for a
                    key that it doesn't have immediately available. The
                    kernel creates a temporary key and then calls out to this
                    program to instantiate it. It is not intended to be
                    called directly
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libkeyutils" name="libkeyutils"></a><span class=
                    "term"><code class=
                    "filename">libkeyutils.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    contains the keyutils library API instantiation
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="json-glib.html" title=
          "JSON-GLib-1.8.0">Prev</a>
          <p>
            JSON-GLib-1.8.0
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="libaio.html" title="libaio-0.3.113">Next</a>
          <p>
            libaio-0.3.113
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="genlib.html" title=
          "Chapter&nbsp;9.&nbsp;General Libraries">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch    (System V Edition) - Version 12.2">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
